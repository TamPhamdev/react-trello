(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a(385)},204:function(e,t,a){},205:function(e,t,a){},344:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),o=(a(204),a(205),a(206),a(20)),l=a(21),c=a(23),u=a(22),d=a(24),p=a(392),m=a(393),f=a(33),h=a(100),g=a(394),k=a(9),b=a(143),v=a.n(b),y=a(180),T=a(112),E=a.n(T),x="http://localhost:5000";function O(){return(O=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(x,"/api/signup"),t).then(function(e){console.log(e.data)}).catch(function(e){return Promise.reject("Sign Up failed")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleOnChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.submitLogin=function(e){var t;e.preventDefault(),e.stopPropagation(),(t=a.state,E.a.post("".concat(x,"/api/login"),t).then(function(e){return localStorage.setItem("x-access-token",e.data.token),localStorage.setItem("x-access-token-expiration",Date.now()+72e5),localStorage.setItem("user",e.data.username),console.log(e.data),e.data}).catch(function(e){return Promise.reject("Authentication failed")})).catch(function(e){return alert(e)}),a.setState({email:"",password:""})},a.keyUpHandler=function(e){13===e.keyCode&&a.submitLogin()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("form",{onSubmit:this.submitLogin.bind(this),id:"myform"},r.a.createElement(g.a,{prefix:r.a.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),type:"text",placeholder:"Your email",value:t,onChange:this.handleOnChange,name:"email",required:!0,style:{margin:"15px"}}),r.a.createElement(g.a,{prefix:r.a.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Your Password",value:a,onChange:this.handleOnChange,name:"password",required:!0,style:{margin:"15px"}})))}}]),t}(n.Component),j=p.a.Text,w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={ModalText:"Content of the modal",visible:!1,confirmLoading:!1},a.showModal=function(){a.setState({visible:!0})},a.handleSubmit=function(e){a.setState({ModalText:"Logging....Please wait a second ",confirmLoading:!0}),setTimeout(function(){a.props.action(),a.setState({visible:!1,confirmLoading:!1})},500)},a.handleCancel=function(){console.log("Clicked cancel button"),a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.confirmLoading;return r.a.createElement("div",null,r.a.createElement("div",{type:"primary",onClick:this.showModal},r.a.createElement(j,{strong:!0,style:{color:"#fff"}},"Login")),r.a.createElement(m.a,{title:"Login Form",visible:t,onOk:this.handleSubmit,confirmLoading:a,onCancel:this.handleCancel,footer:[r.a.createElement(f.a,{form:"myform",key:"submit",htmlType:"submit",onClick:this.handleSubmit,onKeyUp:this.handleSubmit},"Submit")]},r.a.createElement(C,this.state)))}}]),t}(n.Component),I=a(389),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(console.log("Received values of form: ",t),function(e){O.apply(this,arguments)}(t))})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(I.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit.bind(this),id:"signup"}),r.a.createElement(I.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(g.a,null))),r.a.createElement(I.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(g.a.Password,null))),r.a.createElement(I.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(g.a.Password,{onBlur:this.handleConfirmBlur}))))}}]),t}(n.Component),D=S=I.a.create({name:"register"})(S),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:"",ModalText:"Content of the modal",visible:!1,confirmLoading:!1},a.showModal=function(){a.setState({visible:!0})},a.handleSubmit=function(e){a.setState({ModalText:"Please wait a second ",confirmLoading:!0}),setTimeout(function(){a.setState({visible:!1,confirmLoading:!1})},500)},a.handleCancel=function(){a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.confirmLoading;return r.a.createElement("div",null,r.a.createElement("div",{type:"primary",onClick:this.showModal},"Sign Up"),r.a.createElement(m.a,{title:"SignUp Form",visible:t,onOk:this.handleSubmit,confirmLoading:a,onCancel:this.handleCancel,footer:[r.a.createElement(f.a,{type:"primary",form:"signup",key:"submit",htmlType:"submit",onClick:this.handleSubmit},"Register")]},r.a.createElement(D,this.props)))}}]),t}(n.Component),L=a(386),G=a(395),P=L.a.Header,M=L.a.Content,F=p.a.Text,Y=localStorage.getItem("x-access-token")&&localStorage.getItem("x-access-token-expiration")>Date.now(),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLogin:Y},a.logOut=function(){localStorage.clear(),a.setState({isLogin:!1})},a.logIn=function(){setTimeout(function(){a.setState({isLogin:!0})}),a.forceUpdate()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=localStorage.getItem("user"),t=this.state.isLogin;return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(L.a,null,r.a.createElement(P,null,r.a.createElement(G.b,Object.assign({},this.props,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["home"],style:{lineHeight:"64px"}}),r.a.createElement(G.b.Item,{key:"home"},r.a.createElement(F,{strong:!0,style:{color:"#fff"}},"Trello")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{strong:!0,style:{color:"#fff",padding:"1rem"}},e.toUpperCase()),r.a.createElement(F,{strong:!0,style:{color:"#fff",cursor:"pointer"},onClick:this.logOut},"Logout")):r.a.createElement(G.b.SubMenu,Object.assign({},this.props,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{type:"user"}),r.a.createElement(F,{strong:!0,style:{color:"#fff"}},"Login/SignUp"))}),r.a.createElement(G.b.Item,null,r.a.createElement(w,{action:this.logIn})),r.a.createElement(G.b.Item,null,r.a.createElement(A,null))))),r.a.createElement(M,{style:{padding:"0 20px"}},this.props.children)))}}]),t}(n.Component),q=a(197),R=a(187),B=a(196),N=a(38),z=a(391),H=a(68),J=a(388),K=a(13),W=a.n(K),X=J.a.RangePicker,V={textalign:"center",padding:"10px 0"},$={margin:"1rem 0"};W()().format();var Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={startDate:"",endDate:""},a.onChange=function(e,t){a.setState({startDate:t[0],endDate:t[1]})},a.handleSubmit=function(e){e.preventDefault();var t=e.target.querySelector("input").value;if(t){t=t.trim();var n=a.state.startDate,r=a.state.endDate,s={id:String(W()().valueOf(n)),title:t,startDate:n,endDate:r};console.log({item:s}),a.props.createTask(s),a.props.success(),a.props.cancelAddTask(e)}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,stlye:V},r.a.createElement(g.a,{type:"text",placeholder:"New task",style:{margin:"10px 0"}}),r.a.createElement(X,{onChange:this.onChange,format:"DD/MM/YYYY",style:$}),r.a.createElement(f.a,{htmlType:"submit",style:{marginRight:"20px"}},"Add"),r.a.createElement(f.a,{onClick:this.props.cancelAddTask},"Cancel")))}}]),t}(n.Component),Z=(a(344),a(390)),_=a(387),ee=p.a.Paragraph,te=function(e){var t=e.taskTitle,a=e.startDate,n=e.endDate,s=e.updateTask,i=e.taskID,o=e.groupID,l=e.onClickTask,c=e.deleteTask,u=e.index,d=W()(n,"DD/MM/YYYY");d=d.format("X");var p=W()().format("X"),m="Task-Box";return p>d&&(m+=" Expired"),r.a.createElement(H.b,{draggableId:i,index:u},function(e){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,className:m,id:i}),r.a.createElement(ee,{editable:{onChange:s},onClick:function(){return l(i,o)}},t),r.a.createElement(Z.a,{size:"small",dataSource:[a,n],renderItem:function(e){return r.a.createElement(Z.a.Item,null,e)}}),r.a.createElement(_.a,{title:"Are you sure delete task?",onConfirm:function(){return c(i,o)},okText:"Yes",cancelText:"No"},r.a.createElement(k.a,{type:"delete",style:{color:"red"}})))})},ae={margin:"20px 0",fontSize:"1.1rem"},ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isAddTask:!1},a.handleClickAddTask=function(e){a.setState({isAddTask:!0})},a.handleClickCancelAddTask=function(e){e.preventDefault(),a.setState({isAddTask:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.groupTasks,n=t.groupID,s=a.map(function(t,a){return r.a.createElement(te,Object.assign({style:ae,key:t.id,taskID:t.id,taskTitle:t.title,startDate:t.startDate,endDate:t.endDate,index:a},e.props))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.c,{droppableId:n},function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),s,e.placeholder)}),this.state.isAddTask?r.a.createElement(Q,Object.assign({},this.props,{cancelAddTask:this.handleClickCancelAddTask})):r.a.createElement("div",{onClick:this.handleClickAddTask,style:ae},r.a.createElement(k.a,{type:"plus-circle",theme:"twoTone"})," Add new task"))}}]),t}(n.Component),re={boxShadow:" 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"},se=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.groupTitle,a=e.onClickGroup,n=e.groupID;return r.a.createElement("div",null,r.a.createElement(N.a,{lg:8,md:8,sm:24,xs:24,onClick:a.bind(this,n),id:n},r.a.createElement(z.a,{style:re,hoverable:!0,title:t},r.a.createElement(ne,this.props))))}}]),t}(n.Component),ie=a(396),oe=a(70),le=a(193),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],currentIDGroup:null,currentTitleGroup:null,currentIndexGroup:null,currentIDTask:null,currentIndexTask:null,currentTitleTask:null,isAddGroup:!1,isLoading:!0},a.handleClickGroup=function(e){if(console.log("Click group",e),e!==a.state.currentIDGroup){var t=a.findIndex(e).currentIndexGroup,n=a.state.data[t].title;a.setState({currentIDGroup:e,currentIndexGroup:t,currentTitleGroup:n})}},a.handleClickTask=function(e,t){if(console.log("Click task",e,t),e!==a.state.currentIDTask){var n=a.findIndex(t,e),r=n.currentIndexTask,s=n.currentIndexGroup,i=a.state.data[s].tasks[r].title;a.setState({currentIDTask:e,currentIndexTask:r,currentTitleTask:i})}},a.handleAddTask=function(e,t){if(e!==a.state.currentIDTask){var n=a.findIndex(e,t),r=n.currentIndexTask,s=n.currentIndexGroup,i=a.state.data[s].tasks[r].title;a.setState({currentIDTask:e,currentIndexTask:r,currentTitleTask:i})}},a.findIndex=function(e,t){var n,r;return a.state.data.forEach(function(a,s){a.id===e&&(n=s,a.tasks.forEach(function(e,a){e.id===t&&(r=a)}))}),{currentIndexGroup:n,currentIndexTask:r}},a.createTask=function(e){a.state.data[a.state.currentIndexGroup].tasks.push(e),a.setState({data:a.state.data})},a.updateTask=function(e){var t=a.state.data[a.state.currentIndexGroup].tasks[a.state.currentIndexTask];t.title=e,a.state.data[a.state.currentIndexGroup].tasks.splice(a.state.currentIndexTask,1,t),a.setState({data:a.state.data})},a.deleteTask=function(e,t){a.state.data[t-1].tasks.splice(e-1,1),a.setState({data:a.state.data}),a.success()},a.success=function(){ie.a.success("Success")},a.error=function(){ie.a.error("This is a message of error")},a.warning=function(){ie.a.warning("This is message of warning")},a.onDragEnd=function(e){var t=e.destination,n=e.source;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r=n.index,s=a.state.data,i=s[n.droppableId-1],o=i.tasks.splice(r,1),l=Object(B.a)(o,1)[0];s[t.droppableId-1].tasks.splice(t.index,0,l);a.setState(Object(R.a)({data:[].concat(Object(q.a)(s),[[i]])},a.state))}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("".concat(x,"/api/board"),{withCredentials:!0}).then(function(e){return e.data}).then(function(t){e.setState({data:t,isLoading:!1})})}},{key:"shouldComponentUpdate",value:function(e,t){return e!==this.props||t!==this.state}},{key:"render",value:function(){var e=this,t=this.state,a=t.data;if(t.isLoading||!this.state.data)return r.a.createElement(oe.a,{"text-align":"center",style:{position:"fixed",top:"50%",left:"50%"}},r.a.createElement(le.a,{tip:"Loading...",size:"large"}));var n=a.map(function(t){return r.a.createElement(se,Object.assign({},e.props,{key:t.id,success:e.success,error:e.error,groupID:t.id,groupTitle:t.title,groupTasks:t.tasks,onClickGroup:e.handleClickGroup,onClickTask:e.handleClickTask,currentIndexTask:e.currentIndexTask,currentTitleGroup:e.state.currentTitleGroup,currentTitleTask:e.state.currentTitleTask,createTask:e.createTask,updateTask:e.updateTask,onChangeTask:function(t){var a=t.target;return e.setState({currentTitleTask:a.value})},deleteTask:e.deleteTask}))});return r.a.createElement("div",null,r.a.createElement(H.a,{onDragEnd:this.onDragEnd},r.a.createElement(oe.a,{gutter:16,justify:"space-around",style:{padding:"1rem 0"}},n)))}}]),t}(n.Component);var ue=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,null,r.a.createElement(ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,1,2]]]);
//# sourceMappingURL=main.38befa6b.chunk.js.map